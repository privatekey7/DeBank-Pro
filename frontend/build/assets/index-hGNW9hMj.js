import{r as Ne,a as ve,g as ye}from"./vendor-C6Ba5J37.js";import{r as h,R as T,P as Q,a as ee,C as te,T as D,B as se,b as ae,X as le,Y as ne,c as re,d as ke}from"./charts-CpHX11Le.js";import{a as we,t as Ce,c as _e}from"./utils-DwtpL3Gr.js";import{A as G,D as Se,W as J,C as Y,L as Ee,E as de,a as Be,b as Re,c as pe,S as ue,F as ge,d as be,e as Fe,f as Le,U as Te,g as De,T as ze,B as Me,P as Pe}from"./icons-B0DOCI7c.js";import{r as Ae}from"./excel-BHGhqUIv.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))x(i);new MutationObserver(i=>{for(const d of i)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&x(g)}).observe(document,{childList:!0,subtree:!0});function o(i){const d={};return i.integrity&&(d.integrity=i.integrity),i.referrerPolicy&&(d.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?d.credentials="include":i.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function x(i){if(i.ep)return;i.ep=!0;const d=o(i);fetch(i.href,d)}})();var Z={exports:{}},P={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var me;function Ve(){if(me)return P;me=1;var t=Ne(),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),x=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,d={key:!0,ref:!0,__self:!0,__source:!0};function g(v,l,m){var c,b={},N=null,f=null;m!==void 0&&(N=""+m),l.key!==void 0&&(N=""+l.key),l.ref!==void 0&&(f=l.ref);for(c in l)x.call(l,c)&&!d.hasOwnProperty(c)&&(b[c]=l[c]);if(v&&v.defaultProps)for(c in l=v.defaultProps,l)b[c]===void 0&&(b[c]=l[c]);return{$$typeof:r,type:v,key:N,ref:f,props:b,_owner:i.current}}return P.Fragment=o,P.jsx=g,P.jsxs=g,P}var xe;function Ie(){return xe||(xe=1,Z.exports=Ve()),Z.exports}var e=Ie(),I={},he;function $e(){if(he)return I;he=1;var t=ve();return I.createRoot=t.createRoot,I.hydrateRoot=t.hydrateRoot,I}var Oe=$e();const Ue=ye(Oe),Ke={},We=Ke?.VITE_API_URL||"http://localhost:4000/api",S=we.create({baseURL:We,timeout:3e4,headers:{"Content-Type":"application/json"}}),F={getStatus:async()=>(await S.get("/status")).data,getWallets:async(t="totalValue",r="desc")=>(await S.get("/wallets",{params:{sortBy:t,sortOrder:r}})).data,getAggregated:async()=>(await S.get("/aggregated")).data,getStats:async()=>(await S.get("/stats")).data,getDebugData:async()=>(await S.get("/debug")).data,getLogs:async t=>{const r=new URLSearchParams;return t?.level&&r.append("level",t.level),t?.limit&&r.append("limit",t.limit),(await S.get(`/logs?${r}`)).data},toggleDebugMode:async t=>(await S.post("/debug/mode",{enabled:t})).data,clearLogs:async t=>{const r=new URLSearchParams;return t&&r.append("walletAddress",t),(await S.delete(`/logs?${r}`)).data},filterWallets:async t=>(await S.post("/wallets/filter",t)).data,exportCSV:async()=>(await S.get("/export/csv",{responseType:"blob"})).data,clearData:async()=>(await S.delete("/wallets")).data,processWallets:async()=>(await S.post("/wallets/process")).data,getWallet:async t=>(await S.get(`/wallets/${t}`)).data},O=(...t)=>Ce(_e(t)),C=(t,r="USD")=>new Intl.NumberFormat("en-US",{style:"currency",currency:r,minimumFractionDigits:2,maximumFractionDigits:2}).format(t),qe=t=>`${t>=0?"+":""}${t.toFixed(2)}%`,Xe=t=>t?`${t.slice(0,6)}...${t.slice(-4)}`:"",Ze=t=>t>0?"text-green-400":t<0?"text-red-400":"text-slate-400",He=t=>t>0?"↗":t<0?"↘":"→",Ge=t=>new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:6}).format(t),Je=t=>{const r=new Date(t),x=Math.floor((new Date().getTime()-r.getTime())/1e3);return x<60?`${x}s ago`:x<3600?`${Math.floor(x/60)}m ago`:x<86400?`${Math.floor(x/3600)}h ago`:`${Math.floor(x/86400)}d ago`},Ye=(t,r)=>{if(!t||!r)return"";const o=r.toLowerCase(),i={eth:"https://etherscan.io/token/",arb:"https://arbiscan.io/token/",op:"https://optimistic.etherscan.io/token/",bsc:"https://bscscan.com/token/",matic:"https://polygonscan.com/token/",avax:"https://snowtrace.io/token/",ftm:"https://ftmscan.com/token/",xdai:"https://gnosisscan.io/token/",celo:"https://celoscan.io/token/",kava:"https://explorer.kava.io/token/",klay:"https://scope.klaytn.com/token/",core:"https://scan.coredao.org/token/",dfk:"https://subnets.avax.network/defi-kingdoms/token/",base:"https://basescan.org/token/",linea:"https://lineascan.build/token/",mnt:"https://explorer.mantle.xyz/token/",scrl:"https://scrollscan.com/token/",era:"https://explorer.zksync.io/token/",nova:"https://nova.arbiscan.io/token/",canto:"https://tuber.build/token/",doge:"https://explorer.dogechain.dog/token/",cfx:"https://confluxscan.io/token/",ron:"https://explorer.roninchain.com/token/",pze:"https://zkevm.polygonscan.com/token/",wemix:"https://explorer.wemix.com/token/",flr:"https://flare-explorer.flare.network/token/",oas:"https://explorer.oasys.games/token/",zora:"https://explorer.zora.energy/token/",opbnb:"https://opbnbscan.com/token/",shib:"https://shibariumscan.com/token/",mode:"https://sepolia.explorer.mode.network/token/",zeta:"https://explorer.zetachain.com/token/",rari:"https://mainnet.rarichain.org/token/",merlin:"https://scan.merlinchain.io/token/",blast:"https://blastscan.io/token/",karak:"https://explorer.karak.network/token/",frax:"https://fraxscan.com/token/",xlayer:"https://www.xlayerscan.io/token/",itze:"https://explorer.immutable.com/token/",btr:"https://www.bitlayerscan.io/token/",b2:"https://scan.b2.network/token/",bob:"https://bobscan.com/token/",reya:"https://explorer.reya.network/token/",bb:"https://scan.bouncebit.io/token/",taiko:"https://explorer.a2.taiko.xyz/token/",cyber:"https://cyberscan.co/token/",sei:"https://www.seiscan.app/token/",mint:"https://explorer.mintchain.io/token/",chiliz:"https://explorer.chiliz.com/token/",dbk:"https://explorer.dbkchain.com/token/",croze:"https://cronos.org/explorer/cronos-zkevm/token/",gravity:"https://explorer.gravitybridge.io/token/",lisk:"https://explorer.lisk.com/token/",orderly:"https://explorer.orderly.network/token/",ape:"https://explorer.apechain.com/token/",ethlink:"https://explorer.etherlink.com/token/",zircuit:"https://explorer.zircuit.com/token/",world:"https://explorer.worldcoin.org/token/",morph:"https://explorer.morphl2.io/token/",swell:"https://explorer.swellnetwork.io/token/",zero:"https://explorer.zerolabs.xyz/token/",sonic:"https://explorer.sonic.game/token/",corn:"https://explorer.cornchain.io/token/",hsk:"https://explorer.hashkey.com/token/",ink:"https://explorer.inkchain.io/token/",vana:"https://explorer.vanachain.org/token/",sophon:"https://explorer.sophon.org/token/",duck:"https://explorer.duckchain.io/token/",abs:"https://explorer.abstract.money/token/",soneium:"https://explorer.soneium.com/token/",bera:"https://artio.berachain.com/token/",uni:"https://explorer.unichain.world/token/",story:"https://explorer.story.xyz/token/",lens:"https://explorer.lens.xyz/token/",hyper:"https://explorer.hyperevm.com/token/",hemi:"https://explorer.hemi.xyz/token/",plume:"https://explorer.plume.network/token/",katana:"https://explorer.katana.xyz/token/",xrpl:"https://explorer.xrpl.org/token/"}[o];return i?`${i}${t}`:`https://debank.com/token/${o}?q=${t}`},oe=[{name:"Ethereum",logo:"https://static.debank.com/image/chain/logo_url/eth/42ba589cd077e7bdd97db6480b0ff61d.png",alt:"Ethereum"},{name:"BNB Chain",logo:"https://static.debank.com/image/chain/logo_url/bsc/bc73fa84b7fc5337905e527dadcbc854.png",alt:"BNB Chain"},{name:"Gnosis Chain",logo:"https://static.debank.com/image/chain/logo_url/xdai/43c1e09e93e68c9f0f3b132976394529.png",alt:"Gnosis Chain"},{name:"Polygon",logo:"https://static.debank.com/image/chain/logo_url/matic/52ca152c08831e4765506c9bd75767e8.png",alt:"Polygon"},{name:"FTM",logo:"https://static.debank.com/image/chain/logo_url/ftm/14133435f89637157a4405e954e1b1b2.png",alt:"FTM"},{name:"Avalanche",logo:"https://static.debank.com/image/chain/logo_url/avax/4d1649e8a0c7dec9de3491b81807d402.png",alt:"Avalanche"},{name:"OP",logo:"https://static.debank.com/image/chain/logo_url/op/68bef0c9f75488f4e302805ef9c8fc84.png",alt:"OP"},{name:"ARB",logo:"https://static.debank.com/image/chain/logo_url/arb/854f629937ce94bebeb2cd38fb336de7.png",alt:"ARB"},{name:"Celo",logo:"https://static.debank.com/image/chain/logo_url/celo/faae2c36714d55db1d7a36aba5868f6a.png",alt:"Celo"},{name:"Moonriver",logo:"https://static.debank.com/image/chain/logo_url/movr/cfdc1aef482e322abd02137b0e484dba.png",alt:"Moonriver"},{name:"Cronos",logo:"https://static.debank.com/image/chain/logo_url/cro/f947000cc879ee8ffa032793808c741c.png",alt:"Cronos"},{name:"Boba",logo:"https://static.debank.com/image/chain/logo_url/boba/e43d79cd8088ceb3ea3e4a240a75728f.png",alt:"Boba"},{name:"Metis",logo:"https://static.debank.com/image/chain/logo_url/metis/7485c0a61c1e05fdf707113b6b6ac917.png",alt:"Metis"},{name:"Moonbeam",logo:"https://static.debank.com/image/chain/logo_url/mobm/fcfe3dee0e55171580545cf4d4940257.png",alt:"Moonbeam"},{name:"Fuse",logo:"https://static.debank.com/image/chain/logo_url/fuse/7a21b958761d52d04ff0ce829d1703f4.png",alt:"Fuse"},{name:"Kaia",logo:"https://static.debank.com/image/chain/logo_url/klay/4182ee077031d843a57e42746c30c072.png",alt:"Kaia"},{name:"Astar",logo:"https://static.debank.com/image/chain/logo_url/astar/398c7e0014bdada3d818367a7273fabe.png",alt:"Astar"},{name:"IoTeX",logo:"https://static.debank.com/image/chain/logo_url/iotx/d3be2cd8677f86bd9ab7d5f3701afcc9.png",alt:"IoTeX"},{name:"Rootstock",logo:"https://static.debank.com/image/chain/logo_url/rsk/ff47def89fba98394168bf5f39920c8c.png",alt:"Rootstock"},{name:"DFK",logo:"https://static.debank.com/image/chain/logo_url/dfk/233867c089c5b71be150aa56003f3f7a.png",alt:"DFK"},{name:"Telos EVM",logo:"https://static.debank.com/image/chain/logo_url/tlos/6191b8e0b261536044fc70ba746ba2c9.png",alt:"Telos EVM"},{name:"Arbitrum Nova",logo:"https://static.debank.com/image/chain/logo_url/nova/06eb2b7add8ba443d5b219c04089c326.png",alt:"Arbitrum Nova"},{name:"Canto",logo:"https://static.debank.com/image/chain/logo_url/canto/47574ef619e057d2c6bbce1caba57fb6.png",alt:"Canto"},{name:"Dogechain",logo:"https://static.debank.com/image/chain/logo_url/doge/2538141079688a7a43bc22c7b60fb45f.png",alt:"Dogechain"},{name:"Kava",logo:"https://static.debank.com/image/chain/logo_url/kava/b26bf85a1a817e409f9a3902e996dc21.png",alt:"Kava"},{name:"CFX",logo:"https://static.debank.com/image/chain/logo_url/cfx/eab0c7304c6820b48b2a8d0930459b82.png",alt:"CFX"},{name:"zkSync Era",logo:"https://static.debank.com/image/chain/logo_url/era/2cfcd0c8436b05d811b03935f6c1d7da.png",alt:"zkSync Era"},{name:"Ronin",logo:"https://static.debank.com/image/chain/logo_url/ron/6e0f509804bc83bf042ef4d674c1c5ee.png",alt:"Ronin"},{name:"Polygon zkEVM",logo:"https://static.debank.com/image/chain/logo_url/pze/a2276dce2d6a200c6148fb975f0eadd3.png",alt:"Polygon zkEVM"},{name:"CORE",logo:"https://static.debank.com/image/chain/logo_url/core/ccc02f660e5dd410b23ca3250ae7c060.png",alt:"CORE"},{name:"WEMIX",logo:"https://static.debank.com/image/chain/logo_url/wemix/d1ba88d1df6cca0b0cb359c36a09c054.png",alt:"WEMIX"},{name:"Flare",logo:"https://static.debank.com/image/chain/logo_url/flr/9ee03d5d7036ad9024e81d55596bb4dc.png",alt:"Flare"},{name:"Oasys",logo:"https://static.debank.com/image/chain/logo_url/oas/61dfecab1ba8a404354ce94b5a54d4b3.png",alt:"Oasys"},{name:"Zora",logo:"https://static.debank.com/image/chain/logo_url/zora/de39f62c4489a2359d5e1198a8e02ef1.png",alt:"Zora"},{name:"Base",logo:"https://static.debank.com/image/chain/logo_url/base/ccc1513e4f390542c4fb2f4b88ce9579.png",alt:"Base"},{name:"Linea",logo:"https://static.debank.com/image/chain/logo_url/linea/32d4ff2cf92c766ace975559c232179c.png",alt:"Linea"},{name:"Mantle",logo:"https://static.debank.com/image/chain/logo_url/mnt/0af11a52431d60ded59655c7ca7e1475.png",alt:"Mantle"},{name:"Manta Pacific",logo:"https://static.debank.com/image/chain/logo_url/manta/0e25a60b96a29d6a5b9e524be7565845.png",alt:"Manta Pacific"},{name:"Scroll",logo:"https://static.debank.com/image/chain/logo_url/scrl/1fa5c7e0bfd353ed0a97c1476c9c42d2.png",alt:"Scroll"},{name:"opBNB",logo:"https://static.debank.com/image/chain/logo_url/opbnb/07e2e686e363a842d0982493638e1285.png",alt:"opBNB"},{name:"Shibarium",logo:"https://static.debank.com/image/chain/logo_url/shib/4ec79ed9ee4988dfdfc41e1634a447be.png",alt:"Shibarium"},{name:"Mode",logo:"https://static.debank.com/image/chain/logo_url/mode/466e6e12f4fd827f8f497cceb0601a5e.png",alt:"Mode"},{name:"ZetaChain",logo:"https://static.debank.com/image/chain/logo_url/zeta/d0e1b5e519d99c452a30e83a1263d1d0.png",alt:"ZetaChain"},{name:"RARI",logo:"https://static.debank.com/image/chain/logo_url/rari/67fc6abba5cfc6bb3a57bb6afcf5afee.png",alt:"RARI"},{name:"Merlin",logo:"https://static.debank.com/image/chain/logo_url/merlin/458e4686dfb909ba871bd96fe45417a8.png",alt:"Merlin"},{name:"Blast",logo:"https://static.debank.com/image/chain/logo_url/blast/15132294afd38ce980639a381ee30149.png",alt:"Blast"},{name:"Karak",logo:"https://static.debank.com/image/chain/logo_url/karak/a9e47f00f6eeb2c9cc8f9551cff5fe68.png",alt:"Karak"},{name:"Fraxtal",logo:"https://static.debank.com/image/chain/logo_url/frax/2e210d888690ad0c424355cc8471d48d.png",alt:"Fraxtal"},{name:"X Layer",logo:"https://static.debank.com/image/chain/logo_url/xlayer/282a62903a4c74a964b704a161d1ba39.png",alt:"X Layer"},{name:"Immutable zkEVM",logo:"https://static.debank.com/image/chain/logo_url/itze/ce3a511dc511053b1b35bb48166a5d39.png",alt:"Immutable zkEVM"},{name:"Bitlayer",logo:"https://static.debank.com/image/chain/logo_url/btr/78ff16cf14dad73c168a70f7c971e401.png",alt:"Bitlayer"},{name:"B²",logo:"https://static.debank.com/image/chain/logo_url/b2/6ca6c8bc33af59c5b9273a2b7efbd236.png",alt:"B²"},{name:"BOB",logo:"https://static.debank.com/image/chain/logo_url/bob/4e0029be99877775664327213a8da60e.png",alt:"BOB"},{name:"Reya",logo:"https://static.debank.com/image/chain/logo_url/reya/20d71aad4279c33229297da1f00d8ae1.png",alt:"Reya"},{name:"BounceBit",logo:"https://static.debank.com/image/chain/logo_url/bb/da74a4980f24d870cb43ccd763e0c966.png",alt:"BounceBit"},{name:"Taiko",logo:"https://static.debank.com/image/chain/logo_url/taiko/7723fbdb38ef181cd07a8b8691671e6b.png",alt:"Taiko"},{name:"Cyber",logo:"https://static.debank.com/image/chain/logo_url/cyber/3a3c0c5da5fa8876c8c338afae0db478.png",alt:"Cyber"},{name:"SEI",logo:"https://static.debank.com/image/chain/logo_url/sei/34ddf58f678be2db5b2636b59c9828b5.png",alt:"SEI"},{name:"Mint",logo:"https://static.debank.com/image/chain/logo_url/mint/86404f93cd4e51eafcc2e244d417c03f.png",alt:"Mint"},{name:"Chiliz",logo:"https://static.debank.com/image/chain/logo_url/chiliz/548bc261b49eabea7227832374e1fcb0.png",alt:"Chiliz"},{name:"DBK Chain",logo:"https://static.debank.com/image/chain/logo_url/dbk/1255de5a9316fed901d14c069ac62f39.png",alt:"DBK Chain"},{name:"Cronos zkEVM",logo:"https://static.debank.com/image/chain/logo_url/croze/e9572bb5f00a04dd2e828dae75456abe.png",alt:"Cronos zkEVM"},{name:"Gravity",logo:"https://static.debank.com/image/chain/logo_url/gravity/fa9a1d29f671b85a653f293893fa27e3.png",alt:"Gravity"},{name:"Lisk",logo:"https://static.debank.com/image/chain/logo_url/lisk/4d4970237c52104a22e93993de3dcdd8.png",alt:"Lisk"},{name:"Orderly",logo:"https://static.debank.com/image/chain/logo_url/orderly/aedf85948240dddcf334205794d2a6c9.png",alt:"Orderly"},{name:"ApeChain",logo:"https://static.debank.com/image/chain/logo_url/ape/290d3884861ae5e09394c913f788168d.png",alt:"ApeChain"},{name:"Etherlink",logo:"https://static.debank.com/image/chain/logo_url/ethlink/76f6335793b594863f41df992dc53d22.png",alt:"Etherlink"},{name:"Zircuit",logo:"https://static.debank.com/image/chain/logo_url/zircuit/0571a12255432950da5112437058fa5b.png",alt:"Zircuit"},{name:"World Chain",logo:"https://static.debank.com/image/chain/logo_url/world/3e8c6af046f442cf453ce79a12433e2f.png",alt:"World Chain"},{name:"Morph",logo:"https://static.debank.com/image/chain/logo_url/morph/2b5255a6c3a36d4b39e1dea02aa2f097.png",alt:"Morph"},{name:"SwellChain",logo:"https://static.debank.com/image/chain/logo_url/swell/3e98b1f206af5f2c0c2cc4d271ee1070.png",alt:"SwellChain"},{name:"ZERϴ",logo:"https://static.debank.com/image/chain/logo_url/zero/d9551d98b98482204b93544f90b43985.png",alt:"ZERϴ"},{name:"Sonic",logo:"https://static.debank.com/image/chain/logo_url/sonic/8ba4d8395618ec1329ea7142b0fde642.png",alt:"Sonic"},{name:"Corn",logo:"https://static.debank.com/image/chain/logo_url/corn/2ac7405fee5fdeee5964ba0bcf2216f4.png",alt:"Corn"},{name:"HashKey",logo:"https://static.debank.com/image/chain/logo_url/hsk/3f35eb1691403fe4eae7a1d1c45b704c.png",alt:"HashKey"},{name:"Ink",logo:"https://static.debank.com/image/chain/logo_url/ink/af5b553a5675342e28bdb794328e8727.png",alt:"Ink"},{name:"Vana",logo:"https://static.debank.com/image/chain/logo_url/vana/b2827795c1556eeeaeb58cb3411d0b15.png",alt:"Vana"},{name:"Sophon",logo:"https://static.debank.com/image/chain/logo_url/sophon/edc0479e5fc884b240959449ef44a386.png",alt:"Sophon"},{name:"DuckChain",logo:"https://static.debank.com/image/chain/logo_url/duck/b0b13c10586f03bcfc12358c48a22c95.png",alt:"DuckChain"},{name:"Abstract",logo:"https://static.debank.com/image/chain/logo_url/abs/c59200aadc06c79d7c061cfedca85c38.png",alt:"Abstract"},{name:"Soneium",logo:"https://static.debank.com/image/chain/logo_url/soneium/35014ebaa414b336a105ff2115ba2116.png",alt:"Soneium"},{name:"Berachain",logo:"https://static.debank.com/image/chain/logo_url/bera/89db55160bb8bbb19464cabf17e465bc.png",alt:"Berachain"},{name:"Unichain",logo:"https://static.debank.com/image/chain/logo_url/uni/7e9011cb7bd0d19deb7727280aa5c8b1.png",alt:"Unichain"},{name:"Story",logo:"https://static.debank.com/image/chain/logo_url/story/d2311c0952f9801e0d42e3b87b4bd755.png",alt:"Story"},{name:"Lens",logo:"https://static.debank.com/image/chain/logo_url/lens/d41e14ba300d526518fb8ad20714685b.png",alt:"Lens"},{name:"HyperEVM",logo:"https://static.debank.com/image/chain/logo_url/hyper/0b3e288cfe418e9ce69eef4c96374583.png",alt:"HyperEVM"},{name:"Hemi",logo:"https://static.debank.com/image/chain/logo_url/hemi/db2e74d52c77b941d01f9beae0767ab6.png",alt:"Hemi"},{name:"Plume",logo:"https://static.debank.com/image/chain/logo_url/plume/f74d0d202dd8af7baf6940864ee79006.png",alt:"Plume"},{name:"Katana",logo:"https://static.debank.com/image/chain/logo_url/katana/0202d6aecd963a9c0b2afb56c4d731b5.png",alt:"Katana"},{name:"XRPL EVM",logo:"https://static.debank.com/image/chain/logo_url/xrpl/131298e77672be4a16611a103fa39366.png",alt:"XRPL EVM"}],A=t=>{if(!t)return;const o=ce[t.toLowerCase()]||t;return oe.find(i=>i.name.toLowerCase()===o.toLowerCase())?.logo},L=t=>{if(!t)return;const o=ce[t.toLowerCase()]||t;return oe.find(x=>x.name.toLowerCase()===o.toLowerCase())},ce={eth:"Ethereum",arb:"ARB",op:"OP",ftm:"FTM",cfx:"CFX",sei:"SEI",world:"World Chain",base:"Base",ink:"Ink",bsc:"BNB Chain",matic:"Polygon",avax:"Avalanche",celo:"Celo",movr:"Moonriver",cro:"Cronos",boba:"Boba",metis:"Metis",mobm:"Moonbeam",fuse:"Fuse",klay:"Kaia",astar:"Astar",iotx:"IoTeX",rsk:"Rootstock",dfk:"DFK",tlos:"Telos EVM",nova:"Arbitrum Nova",canto:"Canto",doge:"Dogechain",kava:"Kava",era:"zkSync Era",ron:"Ronin",pze:"Polygon zkEVM",core:"CORE",wemix:"WEMIX",flr:"Flare",oas:"Oasys",zora:"Zora",linea:"Linea",mnt:"Mantle",manta:"Manta Pacific",scrl:"Scroll",opbnb:"opBNB",shib:"Shibarium",mode:"Mode",zeta:"ZetaChain",rari:"RARI",merlin:"Merlin",blast:"Blast",karak:"Karak",frax:"Fraxtal",xlayer:"X Layer",itze:"Immutable zkEVM",btr:"Bitlayer",b2:"B²",bob:"BOB",reya:"Reya",bb:"BounceBit",taiko:"Taiko",cyber:"Cyber",mint:"Mint",chiliz:"Chiliz",dbk:"DBK Chain",croze:"Cronos zkEVM",gravity:"Gravity",lisk:"Lisk",orderly:"Orderly",ape:"ApeChain",ethlink:"Etherlink",zircuit:"Zircuit",morph:"Morph",swell:"SwellChain",zero:"ZERϴ",sonic:"Sonic",corn:"Corn",hsk:"HashKey",vana:"Vana",sophon:"Sophon",duck:"DuckChain",abs:"Abstract",soneium:"Soneium",bera:"Berachain",uni:"Unichain",story:"Story",lens:"Lens",hyper:"HyperEVM",hemi:"Hemi",plume:"Plume",katana:"Katana",xrpl:"XRPL EVM",xdai:"Gnosis Chain"},w=t=>{if(!t)return"";const r=ce[t.toLowerCase()];if(r)return r;const o=oe.find(x=>x.name.toLowerCase()===t.toLowerCase());return o?o.name:t},B=({src:t,alt:r,size:o="md",className:x=""})=>{const[i,d]=h.useState(!1),g={sm:"w-6 h-6",md:"w-8 h-8",lg:"w-12 h-12"},v={sm:"text-xs",md:"text-sm",lg:"text-lg"};if(!t||t===""||t==="undefined"||t==="null"||i){const l=r.split(" ").map(m=>m.charAt(0)).join("").toUpperCase().slice(0,2);return e.jsx("div",{className:`${g[o]} bg-slate-700 rounded-lg flex items-center justify-center ${x}`,title:r,children:e.jsx("span",{className:`font-medium text-slate-300 ${v[o]}`,children:l})})}return e.jsx("img",{src:t,alt:r,className:`${g[o]} rounded-lg object-cover ${x}`,onError:()=>d(!0),title:r,loading:"lazy"})},H=()=>{const[t,r]=h.useState(null),[o,x]=h.useState(!0),[i,d]=h.useState(null);if(h.useEffect(()=>{const l=async()=>{try{const c=await F.getAggregated();r(c),d(null)}catch(c){d("Ошибка загрузки данных"),console.error("Error fetching aggregated data:",c)}finally{x(!1)}};l();const m=setInterval(l,5e3);return()=>clearInterval(m)},[]),o)return e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"animate-pulse",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((l,m)=>e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded mb-4"}),e.jsx("div",{className:"h-8 bg-slate-700 rounded"})]},m))})})});if(i||!t)return e.jsx("div",{className:"bg-slate-800 rounded-xl p-8 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(G,{className:"w-8 h-8 text-red-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:"Ошибка загрузки данных"}),e.jsx("p",{className:"text-slate-400",children:i||"Не удалось загрузить данные"})]})});const g=t.topChains.map((l,m)=>({name:w(l.name),chainName:l.name,value:l.value,percentage:l.value/t.totalValue*100,color:["#3B82F6","#8B5CF6","#EF4444","#F59E0B","#10B981"][m%5]})),v=t.topTokens.slice(0,10).map((l,m)=>({name:`${l.symbol} (${w(l.chain)})`,symbol:l.symbol,chain:l.chain,value:l.value,percentage:l.value/t.totalValue*100,color:["#3B82F6","#8B5CF6","#EF4444","#F59E0B","#10B981","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"][m%10]}));return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Общая стоимость"}),e.jsx("p",{className:"text-2xl font-bold text-slate-100",children:C(t.totalValue)}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsxs("span",{className:Ze(t.totalChange24h),children:[He(t.totalChange24h)," ",qe(t.totalChange24h)]}),e.jsx("span",{className:"text-xs text-slate-500 ml-2",children:"за 24ч"})]})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(Se,{className:"w-6 h-6 text-blue-400"})})]})}),e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Кошельков"}),e.jsx("p",{className:"text-2xl font-bold text-slate-100",children:t.walletsCount}),e.jsx("p",{className:"text-xs text-slate-500 mt-2",children:"активных адресов"})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(J,{className:"w-6 h-6 text-blue-400"})})]})}),e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Топ токен"}),e.jsx("p",{className:"text-xl font-bold text-slate-100",children:t.topTokens[0]?.symbol||"N/A"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:C(t.topTokens[0]?.value||0)})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(Y,{className:"w-6 h-6 text-blue-400"})})]})}),e.jsx("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-slate-400 mb-1",children:"Топ цепочка"}),e.jsx("p",{className:"text-xl font-bold text-slate-100",children:t.topChains[0]?.name?w(t.topChains[0].name):"N/A"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:C(t.topChains[0]?.value||0)})]}),e.jsx("div",{className:"w-12 h-12 bg-blue-900/20 rounded-lg flex items-center justify-center",children:e.jsx(Ee,{className:"w-6 h-6 text-blue-400"})})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:"Распределение по цепочкам"}),e.jsx("div",{className:"h-64",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(Q,{children:[e.jsx(ee,{data:g,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:g.map((l,m)=>e.jsx(te,{fill:l.color},`cell-${m}`))}),e.jsx(D,{content:({active:l,payload:m})=>{if(l&&m&&m.length){const c=m[0].payload,b=L(c.chainName);return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[b?.logo&&e.jsx("img",{src:b.logo,alt:c.name,className:"w-5 h-5 rounded-full",onError:N=>{N.currentTarget.style.display="none"}}),e.jsx("span",{className:"text-slate-100 font-medium",children:c.name})]}),e.jsxs("p",{className:"text-slate-300 text-sm",children:["Стоимость: ",C(c.value)]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[c.percentage.toFixed(2),"%"]})]})}return null},contentStyle:{backgroundColor:"transparent",border:"none",boxShadow:"none"}})]})})}),e.jsx("div",{className:"mt-4 space-y-2",children:g.map((l,m)=>{const c=L(l.chainName);return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:l.color}}),c?.logo&&e.jsx("img",{src:c.logo,alt:l.name,className:"w-5 h-5 rounded-full",onError:b=>{b.currentTarget.style.display="none"}}),e.jsx("span",{className:"text-slate-300",children:l.name})]}),e.jsx("span",{className:"font-medium text-slate-100",children:C(l.value)})]},m)})})]}),e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:"Топ токены"}),e.jsx("div",{className:"h-64",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(se,{data:v,children:[e.jsx(ae,{strokeDasharray:"3 3",stroke:"#475569"}),e.jsx(le,{dataKey:"name",stroke:"#94a3b8",fontSize:10,angle:-45,textAnchor:"end",height:80,interval:0,tickFormatter:l=>{if(l.length>15){const m=l.split(" (");if(m.length===2){const c=m[0],b=m[1].replace(")",""),N=b.length>8?b.substring(0,8)+"...":b;return`${c} (${N})`}}return l}}),e.jsx(ne,{stroke:"#94a3b8",fontSize:12}),e.jsx(D,{content:({active:l,payload:m,label:c})=>{if(l&&m&&m.length){const b=m[0].payload,N=L(b.chain);return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-slate-100 font-medium",children:b.symbol}),N?.logo&&e.jsx("img",{src:N.logo,alt:w(b.chain),className:"w-5 h-5 rounded-full",onError:f=>{f.currentTarget.style.display="none"}})]}),e.jsxs("p",{className:"text-slate-300 text-sm",children:["Стоимость: ",C(b.value)]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[b.percentage.toFixed(2),"%"]})]})}return null},contentStyle:{backgroundColor:"transparent",border:"none",boxShadow:"none"}}),e.jsx(re,{dataKey:"value",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:"Топ протоколы"}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-slate-700",children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Протокол"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Цепочка"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Категория"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:"Стоимость"})]})}),e.jsx("tbody",{children:t.topProtocols.slice(0,10).map((l,m)=>e.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-700/50",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(B,{src:l.logo,alt:l.name,size:"sm"}),e.jsx("span",{className:"font-medium text-slate-100",children:l.name})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{src:A(l.chain),alt:l.chain,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:w(l.chain)})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:l.category})}),e.jsx("td",{className:"py-3 px-4 text-right font-medium text-slate-100",children:C(l.value)})]},m))})]})})]})]})},Qe=()=>{const[t,r]=h.useState([]),[o,x]=h.useState(!0),[i,d]=h.useState(null),[g,v]=h.useState("totalValue"),[l,m]=h.useState("desc");h.useEffect(()=>{(async()=>{try{const p=await F.getWallets(g,l);r(p.wallets),d(null)}catch(p){d("Ошибка загрузки кошельков"),console.error("Error fetching wallets:",p)}finally{x(!1)}})()},[g,l]);const c=f=>{g===f?m(l==="asc"?"desc":"asc"):(v(f),m("desc"))},b=f=>{navigator.clipboard.writeText(f)},N=f=>{window.open(`https://debank.com/profile/${f}`,"_blank")};return o?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded mb-4 w-1/3"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((f,p)=>e.jsx("div",{className:"h-16 bg-slate-700 rounded"},p))})]})})}):i?e.jsx("div",{className:"bg-slate-800 rounded-xl p-8 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(de,{className:"w-8 h-8 text-red-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:"Ошибка загрузки кошельков"}),e.jsx("p",{className:"text-slate-400",children:i})]})}):e.jsx("div",{className:"space-y-6",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-sm border border-slate-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-100",children:["Кошельки (",t.length,")"]}),e.jsxs("div",{className:"text-sm text-slate-400",children:["Всего кошельков: ",t.length]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Адрес"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:e.jsxs("button",{onClick:()=>c("totalValue"),className:"flex items-center space-x-1 hover:text-slate-300 transition-colors",children:[e.jsx("span",{children:"Стоимость"}),e.jsx(Be,{className:"w-4 h-4"})]})}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Цепочки"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Токены"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Протоколы"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Обновлено"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:"Действия"})]})}),e.jsx("tbody",{children:t.map((f,p)=>e.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"font-mono text-sm text-slate-100",children:Xe(f.address)}),e.jsx("button",{onClick:()=>b(f.address),className:"text-slate-400 hover:text-slate-300 transition-colors",title:"Копировать адрес",children:e.jsx(Re,{className:"w-4 h-4"})})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"font-medium text-slate-100",children:C(f.totalValue)})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[f.chains.slice(0,3).map((k,j)=>e.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:w(k.name)},j)),f.chains.length>3&&e.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-slate-700 text-slate-400",children:["+",f.chains.length-3]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-slate-400",children:f.tokens.length})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-slate-400",children:f.protocols.length})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"text-sm text-slate-500",children:Je(f.lastUpdated)})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("button",{onClick:()=>N(f.address),className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Открыть в DeBank",children:e.jsx(pe,{className:"w-4 h-4"})})})]},p))})]})}),t.length===0&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(de,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:"Кошельки не найдены"}),e.jsx("p",{className:"text-slate-400",children:"Нет доступных кошельков для отображения"})]})]})})};var et=Ae();const fe=async(t,r,o="Data")=>{const x=new et.Workbook,i=x.addWorksheet(o);if(t.length>0){const m=Object.keys(t[0]);i.addRow(m),t.forEach(c=>{const b=m.map(N=>c[N]);i.addRow(b)})}const d=await x.xlsx.writeBuffer(),g=new Blob([d],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),v=window.URL.createObjectURL(g),l=document.createElement("a");l.href=v,l.download=`${r}.xlsx`,document.body.appendChild(l),l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(v)},tt=(t,r=[])=>{const o=[];t.forEach(x=>{r.filter(d=>d.tokens.some(g=>g.symbol===x.symbol&&g.chain===x.chain)).forEach(d=>{const g=d.tokens.find(v=>v.symbol===x.symbol&&v.chain===x.chain);g&&o.push({Символ:g.symbol,Название:g.name,Цепочка:g.chain,Баланс:g.balance,Цена:g.price,Стоимость:g.value,"Адрес кошелька":d.address})})}),fe(o,"tokens_export","Токены")},st=(t,r=[])=>{const o=[],x=new Map;t.forEach(i=>{const d=`${i.name}-${i.chain}`;x.set(d,i)}),r.forEach(i=>{i.protocols.forEach(d=>{const g=`${d.name}-${d.chain}`;x.has(g)&&(i.tokens.filter(l=>l.chain===d.chain).reduce((l,m)=>l+m.value,0),o.push({"Название протокола":d.name,Цепочка:d.chain,Категория:d.category||"defi","Стоимость протокола в кошельке (USD)":d.value,"Адрес кошелька":i.address}))})}),fe(o,"protocols_export","Протоколы")},$=({value:t,onChange:r,options:o,placeholder:x,className:i="",multiple:d=!1})=>{const[g,v]=h.useState(!1),l=h.useRef(null);h.useEffect(()=>{const p=k=>{l.current&&!l.current.contains(k.target)&&v(!1)};return document.addEventListener("mousedown",p),()=>{document.removeEventListener("mousedown",p)}},[]);const m=()=>{v(!g)},c=p=>{if(d){const k=Array.isArray(t)?t:t?[t]:[],j=k.includes(p)?k.filter(E=>E!==p):[...k,p];r(j)}else r(p),v(!1)},b=()=>{if(d){const p=Array.isArray(t)?t:t?[t]:[];return o.filter(k=>p.includes(k.value))}else return o.filter(p=>p.value===t)},N=()=>{const p=b();return p.length===0?x:d?p.length===1?p[0].label:`${p.length} выбрано`:p[0].label},f=b();return e.jsxs("div",{className:`relative ${i}`,ref:l,children:[e.jsxs("button",{type:"button",onClick:m,className:"w-full px-3 py-2 border border-slate-600 rounded-lg text-sm bg-slate-800 text-slate-100 flex items-center justify-between hover:border-slate-500 transition-colors",children:[e.jsxs("div",{className:"flex items-center space-x-2 min-w-0",children:[f.length>0&&f[0].logo&&e.jsx("img",{src:f[0].logo,alt:f[0].label,className:"w-4 h-4 rounded-full flex-shrink-0",onError:p=>{p.currentTarget.style.display="none"}}),e.jsx("span",{className:"truncate",children:N()})]}),e.jsx("svg",{className:`w-4 h-4 text-slate-400 transition-transform ${g?"rotate-180":""}`,fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),g&&e.jsx("div",{className:"absolute z-50 w-full mt-1 bg-slate-800 border border-slate-600 rounded-lg shadow-lg max-h-60 overflow-y-auto",children:o.map(p=>{const k=d?Array.isArray(t)&&t.includes(p.value):t===p.value;return e.jsxs("button",{type:"button",onClick:()=>c(p.value),className:`w-full px-3 py-2 text-left text-sm hover:bg-slate-700 transition-colors flex items-center space-x-2 ${k?"bg-slate-700 text-slate-100":"text-slate-300"}`,children:[p.logo&&e.jsx("img",{src:p.logo,alt:p.label,className:"w-4 h-4 rounded-full flex-shrink-0",onError:j=>{j.currentTarget.style.display="none"}}),e.jsx("span",{className:"truncate",children:p.label}),k&&e.jsx("svg",{className:"w-4 h-4 ml-auto text-slate-400",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},p.value)})})]})},at=()=>{const[t,r]=h.useState([]),[o,x]=h.useState([]),[i,d]=h.useState([]),[g,v]=h.useState(!0),[l,m]=h.useState(null),[c,b]=h.useState(""),[N,f]=h.useState("all"),[p]=h.useState("value"),[k]=h.useState("desc"),[j,E]=h.useState({}),[R,U]=h.useState(!1);h.useEffect(()=>{const s=async()=>{try{const[u,y]=await Promise.all([F.getAggregated(),F.getWallets()]),_=u.topTokens,M=y.wallets;r(_),x(_),d(M),m(null)}catch(u){m("Ошибка загрузки токенов"),console.error("Error fetching tokens:",u)}finally{v(!1)}};s();const a=setInterval(s,5e3);return()=>clearInterval(a)},[]),h.useEffect(()=>{let s=t;c&&(s=s.filter(a=>a.symbol.toLowerCase().includes(c.toLowerCase())||a.name.toLowerCase().includes(c.toLowerCase())||w(a.chain).toLowerCase().includes(c.toLowerCase()))),N!=="all"&&(s=s.filter(a=>a.chain===N)),j.minValue!==void 0&&(s=s.filter(a=>a.value>=j.minValue)),j.maxValue!==void 0&&(s=s.filter(a=>a.value<=j.maxValue)),j.selectedToken&&(s=s.filter(a=>a.symbol===j.selectedToken)),s.sort((a,u)=>{if(p==="chain"){const M=w(a.chain),je=w(u.chain),ie=M.localeCompare(je);return k==="asc"?ie:-ie}const y=a[p],_=u[p];return k==="asc"?y-_:_-y}),x(s)},[t,c,N,p,k,j]);const K=()=>{const s=new Set;return t.forEach(a=>s.add(a.chain)),Array.from(s).sort()},W=s=>{if(s==="all"){const a=new Set;return t.forEach(u=>a.add(u.symbol)),Array.from(a).sort()}else{const a=new Set;return t.filter(u=>u.chain===s).forEach(u=>a.add(u.symbol)),Array.from(a).sort()}},q=()=>{const s=new Map;return t.forEach(a=>{const u=s.get(a.chain)||{totalValue:0,tokenCount:0};s.set(a.chain,{totalValue:u.totalValue+a.value,tokenCount:u.tokenCount+1})}),Array.from(s.entries()).map(([a,u])=>({name:w(a),chainName:a,value:u.totalValue,tokenCount:u.tokenCount}))},X=()=>{tt(o,i)},V=q().map((s,a)=>({name:s.name,chainName:s.chainName,value:s.value,tokenCount:s.tokenCount,color:["#3B82F6","#8B5CF6","#EF4444","#F59E0B","#10B981","#06B6D4"][a%6]})),z=V.reduce((s,a)=>s+a.value,0),n=V.map(s=>({...s,percentage:s.value/z*100}));return g?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded mb-4 w-1/3"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((s,a)=>e.jsx("div",{className:"h-16 bg-slate-700 rounded"},a))})]})})}):l?e.jsx("div",{className:"bg-slate-800 rounded-xl p-8 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Y,{className:"w-8 h-8 text-red-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:"Ошибка загрузки токенов"}),e.jsx("p",{className:"text-slate-400",children:l})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Поиск токенов, названий или сетей...",value:c,onChange:s=>b(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-slate-800 text-slate-100 placeholder-slate-400"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>U(!R),className:O("flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors",R?"bg-blue-900/20 border-blue-600 text-blue-400":"bg-slate-800 border-slate-600 text-slate-300 hover:bg-slate-700"),children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Фильтры"})]}),e.jsxs("button",{onClick:X,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(be,{className:"w-4 h-4"}),e.jsx("span",{children:"Экспорт"})]})]})]}),R&&e.jsxs("div",{className:"mt-4 p-4 bg-slate-700 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Стоимость в USD"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Мин",value:j.minValue||"",onChange:s=>{const a=s.target.value;(a===""||parseFloat(a)>=0)&&E({...j,minValue:a===""?void 0:parseFloat(a)})},className:"flex-1 px-3 py-2 border border-slate-600 rounded-lg text-sm bg-slate-800 text-slate-100"}),e.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Макс",value:j.maxValue||"",onChange:s=>{const a=s.target.value;(a===""||parseFloat(a)>=0)&&E({...j,maxValue:a===""?void 0:parseFloat(a)})},className:"flex-1 px-3 py-2 border border-slate-600 rounded-lg text-sm bg-slate-800 text-slate-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Цепочка"}),e.jsx($,{value:N,onChange:s=>f(s),options:[{value:"all",label:"Все цепочки"},...K().map(s=>({value:s,label:w(s),logo:A(s)}))],placeholder:"Все цепочки"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Токен"}),e.jsx($,{value:j.selectedToken||"all",onChange:s=>E({...j,selectedToken:s==="all"?void 0:s}),options:[{value:"all",label:"Все токены"},...W(N).map(s=>{const a=t.find(u=>u.symbol===s);return{value:s,label:s,logo:a?.logo}})],placeholder:"Все токены"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>{E({}),b(""),f("all")},className:"text-sm text-slate-400 hover:text-slate-300",children:"Сбросить фильтры"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:"Распределение токенов по цепочкам"}),e.jsx("div",{className:"h-64",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(Q,{children:[e.jsx(ee,{data:n,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:n.map((s,a)=>e.jsx(te,{fill:s.color},`cell-${a}`))}),e.jsx(D,{content:({active:s,payload:a})=>{if(s&&a&&a.length){const u=a[0].payload,y=L(u.chainName);return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[y?.logo&&e.jsx("img",{src:y.logo,alt:u.name,className:"w-5 h-5 rounded-full",onError:_=>{_.currentTarget.style.display="none"}}),e.jsx("span",{className:"text-slate-100 font-medium",children:u.name})]}),e.jsxs("p",{className:"text-slate-300 text-sm",children:["Стоимость: ",C(u.value)]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[u.percentage.toFixed(2),"%"]})]})}return null},contentStyle:{backgroundColor:"transparent",border:"none",boxShadow:"none"}})]})})}),e.jsx("div",{className:"mt-4 space-y-2",children:n.map((s,a)=>{const u=L(s.chainName);return e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:s.color}}),u?.logo&&e.jsx("img",{src:u.logo,alt:s.name,className:"w-5 h-5 rounded-full",onError:y=>{y.currentTarget.style.display="none"}}),e.jsx("span",{className:"text-slate-300",children:s.name})]}),e.jsx("span",{className:"font-medium text-slate-100",children:C(s.value)})]},a)})})]}),e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:"Топ токены по стоимости"}),e.jsx("div",{className:"h-64",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(se,{data:(()=>{const s=o.slice(0,10),a=s.reduce((u,y)=>u+y.value,0);return s.map(u=>({...u,displayName:`${u.symbol} (${w(u.chain)})`,percentage:u.value/a*100}))})(),children:[e.jsx(ae,{strokeDasharray:"3 3",stroke:"#475569"}),e.jsx(le,{dataKey:"displayName",stroke:"#94a3b8",fontSize:10,angle:-45,textAnchor:"end",height:80,interval:0,tickFormatter:s=>{if(s.length>15){const a=s.split(" (");if(a.length===2){const u=a[0],y=a[1].replace(")",""),_=y.length>8?y.substring(0,8)+"...":y;return`${u} (${_})`}}return s}}),e.jsx(ne,{stroke:"#94a3b8",fontSize:12}),e.jsx(D,{content:({active:s,payload:a,label:u})=>{if(s&&a&&a.length){const y=a[0].payload,_=L(y.chain);return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("span",{className:"text-slate-100 font-medium",children:y.symbol}),_?.logo&&e.jsx("img",{src:_.logo,alt:w(y.chain),className:"w-5 h-5 rounded-full",onError:M=>{M.currentTarget.style.display="none"}})]}),e.jsxs("p",{className:"text-slate-300 text-sm",children:["Стоимость: ",C(y.value)]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[y.percentage.toFixed(2),"%"]})]})}return null},contentStyle:{backgroundColor:"transparent",border:"none",boxShadow:"none"}}),e.jsx(re,{dataKey:"value",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-sm border border-slate-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-100",children:["Токены (",o.length,")"]}),e.jsxs("div",{className:"text-sm text-slate-400",children:["Показано ",o.length," из ",t.length]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Токен"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Цепочка"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:"Баланс"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:"Цена"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:"Стоимость"})]})}),e.jsx("tbody",{children:o.map((s,a)=>e.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(B,{src:s.logo,alt:s.name||s.symbol,size:"md"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-slate-100",children:s.address?e.jsx("a",{href:Ye(s.address,s.chain),target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Открыть в эксплорере",children:s.symbol}):s.symbol}),e.jsx("div",{className:"text-sm text-slate-400",children:s.name})]})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{src:A(s.chain),alt:s.chain,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:w(s.chain)})]})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:"font-mono text-sm text-slate-100",children:Ge(s.balance)})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:"text-slate-100",children:C(s.price)})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:"font-medium text-slate-100",children:C(s.value)})})]},a))})]})}),o.length===0&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Y,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:"Токены не найдены"}),e.jsx("p",{className:"text-slate-400",children:"Попробуйте изменить фильтры или поисковый запрос"})]})]})]})},lt=()=>{const[t,r]=h.useState([]),[o,x]=h.useState([]),[i,d]=h.useState([]),[g,v]=h.useState(!0),[l,m]=h.useState(null),[c,b]=h.useState(""),[N,f]=h.useState("all"),[p]=h.useState("value"),[k]=h.useState("desc"),[j,E]=h.useState({}),[R,U]=h.useState(!1);h.useEffect(()=>{const n=async()=>{try{const[a,u]=await Promise.all([F.getAggregated(),F.getWallets()]),y=a.topProtocols,_=u.wallets;r(y),x(y),d(_),m(null)}catch(a){m("Ошибка загрузки протоколов"),console.error("Error fetching protocols:",a)}finally{v(!1)}};n();const s=setInterval(n,5e3);return()=>clearInterval(s)},[]),h.useEffect(()=>{let n=t;c&&(n=n.filter(s=>s.name.toLowerCase().includes(c.toLowerCase()))),N!=="all"&&(n=n.filter(s=>s.chain===N)),j.selectedProtocol&&(n=n.filter(s=>s.name===j.selectedProtocol)),j.minValue!==void 0&&(n=n.filter(s=>s.value>=j.minValue)),j.maxValue!==void 0&&(n=n.filter(s=>s.value<=j.maxValue)),n.sort((s,a)=>{const u=s[p],y=a[p];return k==="asc"?u-y:y-u}),x(n)},[t,c,N,p,k,j]);const K=()=>{const n=new Set;return t.forEach(s=>n.add(s.chain)),Array.from(n).sort()},W=n=>{if(n==="all"){const s=new Set;return t.forEach(a=>s.add(a.name)),Array.from(s).sort()}else{const s=new Set;return t.filter(a=>a.chain===n).forEach(a=>s.add(a.name)),Array.from(s).sort()}},q=()=>[...t].sort((s,a)=>a.value-s.value).slice(0,10).map((s,a)=>({name:s.name,value:s.value,chain:s.chain,category:s.category,logo:s.logo,color:["#3B82F6","#8B5CF6","#EF4444","#F59E0B","#10B981","#06B6D4","#84CC16","#F97316","#EC4899","#6366F1"][a%10]})),X=()=>{st(o,i)},V=t.reduce((n,s)=>n+s.value,0),z=q().map(n=>({...n,percentage:n.value/V*100}));return g?e.jsx("div",{className:"space-y-6",children:e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("div",{className:"h-4 bg-slate-700 rounded mb-4 w-1/3"}),e.jsx("div",{className:"space-y-3",children:[...Array(5)].map((n,s)=>e.jsx("div",{className:"h-16 bg-slate-700 rounded"},s))})]})})}):l?e.jsx("div",{className:"bg-slate-800 rounded-xl p-8 shadow-sm border border-slate-700",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(G,{className:"w-8 h-8 text-red-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:"Ошибка загрузки протоколов"}),e.jsx("p",{className:"text-slate-400",children:l})]})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsxs("div",{className:"relative",children:[e.jsx(ue,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-slate-400"}),e.jsx("input",{type:"text",placeholder:"Поиск протоколов...",value:c,onChange:n=>b(n.target.value),className:"w-full pl-10 pr-4 py-2 border border-slate-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-slate-800 text-slate-100 placeholder-slate-400"})]})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{onClick:()=>U(!R),className:O("flex items-center space-x-2 px-4 py-2 rounded-lg border transition-colors",R?"bg-blue-900/20 border-blue-600 text-blue-400":"bg-slate-800 border-slate-600 text-slate-300 hover:bg-slate-700"),children:[e.jsx(ge,{className:"w-4 h-4"}),e.jsx("span",{children:"Фильтры"})]}),e.jsxs("button",{onClick:X,className:"flex items-center space-x-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors",children:[e.jsx(be,{className:"w-4 h-4"}),e.jsx("span",{children:"Экспорт"})]})]})]}),R&&e.jsxs("div",{className:"mt-4 p-4 bg-slate-700 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Стоимость в USD"}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Мин",value:j.minValue||"",onChange:n=>{const s=n.target.value;(s===""||parseFloat(s)>=0)&&E({...j,minValue:s===""?void 0:parseFloat(s)})},className:"flex-1 px-3 py-2 border border-slate-600 rounded-lg text-sm bg-slate-800 text-slate-100"}),e.jsx("input",{type:"number",step:"0.01",min:"0",placeholder:"Макс",value:j.maxValue||"",onChange:n=>{const s=n.target.value;(s===""||parseFloat(s)>=0)&&E({...j,maxValue:s===""?void 0:parseFloat(s)})},className:"flex-1 px-3 py-2 border border-slate-600 rounded-lg text-sm bg-slate-800 text-slate-100"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Цепочка"}),e.jsx($,{value:N,onChange:n=>f(n),options:[{value:"all",label:"Все цепочки"},...K().map(n=>({value:n,label:w(n),logo:A(n)}))],placeholder:"Все цепочки"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"Протокол"}),e.jsx($,{value:j.selectedProtocol||"all",onChange:n=>E({...j,selectedProtocol:n==="all"?void 0:n}),options:[{value:"all",label:"Все протоколы"},...W(N).map(n=>{const s=t.find(a=>a.name===n);return{value:n,label:n,logo:s?.logo}})],placeholder:"Все протоколы"})]})]}),e.jsx("div",{className:"mt-4",children:e.jsx("button",{onClick:()=>{E({}),b(""),f("all")},className:"text-sm text-slate-400 hover:text-slate-300",children:"Сбросить фильтры"})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:"Распределение по протоколам"}),e.jsx("div",{className:"h-64",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(Q,{children:[e.jsx(ee,{data:z,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:2,dataKey:"value",children:z.map((n,s)=>e.jsx(te,{fill:n.color},`cell-${s}`))}),e.jsx(D,{content:({active:n,payload:s})=>{if(n&&s&&s.length){const a=s[0].payload;return e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-lg p-3 shadow-lg",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx(B,{src:a.logo,alt:a.name,size:"sm"}),e.jsx("span",{className:"text-slate-100 font-medium",children:a.name})]}),e.jsx("div",{className:"flex items-center space-x-2 mb-2",children:e.jsx("span",{className:"text-slate-300 text-sm",children:w(a.chain)})}),e.jsxs("p",{className:"text-slate-300 text-sm",children:["Стоимость: ",C(a.value)]}),e.jsxs("p",{className:"text-slate-400 text-xs",children:[a.percentage.toFixed(2),"%"]})]})}return null},contentStyle:{backgroundColor:"transparent",border:"none",boxShadow:"none"}})]})})}),e.jsx("div",{className:"mt-4 space-y-2",children:z.map((n,s)=>e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:n.color}}),e.jsx(B,{src:n.logo,alt:n.name,size:"sm"}),e.jsx("span",{className:"text-slate-300",children:n.name})]}),e.jsx("span",{className:"font-medium text-slate-100",children:C(n.value)})]},s))})]}),e.jsxs("div",{className:"bg-slate-800 rounded-xl p-6 shadow-sm border border-slate-700",children:[e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-4",children:"Топ протоколы по стоимости"}),e.jsx("div",{className:"h-64",children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(se,{data:o.slice(0,10),children:[e.jsx(ae,{strokeDasharray:"3 3",stroke:"#475569"}),e.jsx(le,{dataKey:"name",stroke:"#94a3b8",fontSize:12}),e.jsx(ne,{stroke:"#94a3b8",fontSize:12}),e.jsx(D,{formatter:n=>[C(n),"Стоимость"],labelFormatter:n=>`${n}`,contentStyle:{backgroundColor:"#1e293b",border:"1px solid #475569",borderRadius:"8px",color:"#f1f5f9"},itemStyle:{color:"#f1f5f9"},labelStyle:{color:"#f1f5f9"}}),e.jsx(re,{dataKey:"value",fill:"#3B82F6",radius:[4,4,0,0]})]})})})]})]}),e.jsxs("div",{className:"bg-slate-800 rounded-xl shadow-sm border border-slate-700",children:[e.jsx("div",{className:"px-6 py-4 border-b border-slate-700",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-slate-100",children:["Протоколы (",o.length,")"]}),e.jsxs("div",{className:"text-sm text-slate-400",children:["Показано ",o.length," из ",t.length]})]})}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Протокол"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Цепочка"}),e.jsx("th",{className:"text-left py-3 px-4 text-sm font-medium text-slate-400",children:"Категория"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:"Стоимость"}),e.jsx("th",{className:"text-right py-3 px-4 text-sm font-medium text-slate-400",children:"Действия"})]})}),e.jsx("tbody",{children:o.map((n,s)=>e.jsxs("tr",{className:"border-b border-slate-700 hover:bg-slate-700/50 transition-colors",children:[e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(B,{src:n.logo,alt:n.name,size:"md"}),e.jsx("div",{children:e.jsx("div",{className:"font-medium text-slate-100",children:n.name})})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(B,{src:A(n.chain),alt:n.chain,size:"sm"}),e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:w(n.chain)})]})}),e.jsx("td",{className:"py-3 px-4",children:e.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-900/20 text-blue-400",children:n.category})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("span",{className:"font-medium text-slate-100",children:C(n.value)})}),e.jsx("td",{className:"py-3 px-4 text-right",children:e.jsx("button",{onClick:()=>window.open(`https://debank.com/protocols/${n.id}`,"_blank"),className:"text-blue-400 hover:text-blue-300 transition-colors",title:"Открыть в DeBank",children:e.jsx(pe,{className:"w-4 h-4"})})})]},s))})]})}),o.length===0&&e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("div",{className:"w-16 h-16 bg-slate-700 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(G,{className:"w-8 h-8 text-slate-400"})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100 mb-2",children:"Протоколы не найдены"}),e.jsx("p",{className:"text-slate-400",children:"Попробуйте изменить фильтры или поисковый запрос"})]})]})]})},nt=({status:t})=>{const r=()=>!t.processingProgress||t.walletsCount===0?0:Math.round(t.processingProgress.current/t.walletsCount*100);return e.jsx("div",{className:"bg-slate-800 border-b border-slate-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-2",children:e.jsx("div",{className:"flex items-center justify-between text-sm",children:e.jsxs("div",{className:"flex items-center space-x-6",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[t.status==="running"?e.jsx(Fe,{className:"w-4 h-4 text-green-400"}):e.jsx(Le,{className:"w-4 h-4 text-red-400"}),e.jsx("span",{className:O("font-medium",t.status==="running"?"text-green-400":"text-red-400"),children:t.status==="running"?"Сервер работает":"Сервер недоступен"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Te,{className:"w-4 h-4 text-slate-400"}),e.jsxs("span",{className:"text-slate-300",children:[t.walletsCount," кошельков"]})]}),t.isProcessing&&e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(De,{className:"w-4 h-4 text-blue-400 animate-pulse"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-blue-400 font-medium",children:["Получаю данные ",t.processingProgress?.current||0,"/",t.walletsCount]}),t.processingProgress&&e.jsx("div",{className:"w-24 h-2 bg-slate-700 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-400 transition-all duration-300 ease-out",style:{width:`${r()}%`}})})]})]})]})})})})},rt=()=>{const[t,r]=h.useState("overview"),[o,x]=h.useState(null),[i,d]=h.useState(!0),[g,v]=h.useState(null);h.useEffect(()=>{document.documentElement.classList.add("dark")},[]),h.useEffect(()=>{const c=async()=>{try{const N=await F.getStatus();x(N),v(null)}catch(N){v("Ошибка подключения к серверу"),console.error("Error fetching status:",N)}finally{d(!1)}};c();const b=setInterval(c,3e3);return()=>clearInterval(b)},[]);const l=[{id:"overview",label:"Обзор",icon:ze},{id:"wallets",label:"Кошельки",icon:J},{id:"tokens",label:"Токены",icon:Me},{id:"protocols",label:"Протоколы",icon:Pe}],m=()=>{switch(t){case"overview":return e.jsx(H,{});case"wallets":return e.jsx(Qe,{});case"tokens":return e.jsx(at,{});case"protocols":return e.jsx(lt,{});case"debug":return e.jsx(H,{});default:return e.jsx(H,{})}};return i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),e.jsx("p",{className:"text-slate-300",children:"Загрузка DeBank Pro..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 to-slate-800",children:[e.jsx("header",{className:"bg-slate-800 shadow-lg border-b border-slate-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex items-center justify-between h-16",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-500 rounded-lg flex items-center justify-center",children:e.jsx(J,{className:"w-5 h-5 text-white"})}),e.jsx("h1",{className:"text-xl font-bold text-slate-100",children:"DeBank Pro"})]}),e.jsx("span",{className:"text-sm text-slate-400",children:"Портфолио трекер"})]}),e.jsx("div",{className:"flex items-center space-x-3",children:e.jsxs("a",{href:"https://t.me/privatekey7",target:"_blank",rel:"noopener noreferrer",className:"flex items-center space-x-2 text-sm text-slate-300 hover:text-blue-400 transition-colors",children:[e.jsx("img",{src:"/icons/Telegram.png",alt:"Telegram",className:"w-5 h-5 rounded-full bg-transparent"}),e.jsx("span",{children:"PrivateKey"})]})})]})})}),e.jsx("nav",{className:"bg-slate-800 border-b border-slate-700",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex space-x-8",children:l.map(c=>{const b=c.icon;return e.jsxs("button",{onClick:()=>r(c.id),className:O("flex items-center space-x-2 py-4 px-1 font-medium text-sm transition-colors",t===c.id?"text-blue-400":"text-slate-400 hover:text-slate-300"),children:[e.jsx(b,{className:"w-4 h-4"}),e.jsx("span",{children:c.label})]},c.id)})})})}),o&&e.jsx(nt,{status:o}),g&&e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 mt-4",children:e.jsx("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-5 h-5 bg-red-500 rounded-full flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs",children:"!"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-300",children:g})})]})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m()})]})},ot=Ue.createRoot(document.getElementById("root"));ot.render(e.jsx(ke.StrictMode,{children:e.jsx(rt,{})}));
